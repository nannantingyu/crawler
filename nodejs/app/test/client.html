<script src="socket.io.js"></script>
<script>
    url = "http://localhost:3000";
    function connect(url) {
        var socket = io.connect(url, {
            'force new connection': true, 'reconnection': true,
            "transports": ['websocket'],
            "origins": '*:*'
        });

        return socket;
    }

    var socket = connect(url);
    socket.on('hq', function (message) {
        console.log(message);
    });
    socket.on('connect', function () {
        console.log("connect");
        state='connect';
    });
    socket.on('disconnect', function () {
        console.log("disconnect");
    });
    socket.on('reconnect', function () {
        console.log("reconnect");
    });
</script>